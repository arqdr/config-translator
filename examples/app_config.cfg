% Конфигурация веб-приложения С ВЫЧИСЛЕНИЯМИ
app_name = [[Мое приложение]];
app_version = [[1.0.0]];

debug_mode = false;

% Вычисление уровня логирования
base_log_level = 2;
log_offset = 1;
log_level = $base_log_level log_offset +$;  % 2 + 1 = 3

% Настройки сервера с вычислениями
server = @{
    host = [[0.0.0.0]];
    base_port = 8000;
    port_offset = 80;
    port = $base_port port_offset +$;  % 8000 + 80 = 8080
    
    % Вычисление числа воркеров: (8080 / 1000) = 8
    workers = $port 1000 /$;
    
    ssl = @{
        enabled = true;
        cert_path = [[/etc/ssl/cert.pem]];
        
        % 8080 mod 443 = 8080 - (443 * 18) = 8080 - 7974 = 106
        ssl_check = $port 443 mod$;
    };
};

% Настройки базы данных с вычислениями
database = @{
    engine = [[postgresql]];
    host = [[localhost]];
    db_port = 5432;
    name = [[app_db]];
    
    % Вычисление: 8 * 12 = 96
    base_connections = $workers 12 *$;
    
    % Вычисление: 96 + 4 = 100
    max_connections = $base_connections 4 +$;
    
    % Путь вычисляется на основе порта
    connection_string = [[postgresql://localhost:5432/app_db]];
};
